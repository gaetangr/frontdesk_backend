(this["webpackJsonpmaterial-app"]=this["webpackJsonpmaterial-app"]||[]).push([[21],{1266:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(35),i=a(7),o=a(0),s=a.n(o),l=a(659),c=a(130),u=a(681),d=a(11),m=a(666),b=a(642),j=a(1265),f=a(634),p=a(674),h=a(170),O=a(632),x=a(623),v=a(3),g=a.n(v);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var w=Object(o.forwardRef)((function(e,t){var a=e.color,n=void 0===a?"currentColor":a,r=e.size,i=void 0===r?24:r,o=_(e,["color","size"]);return s.a.createElement("svg",y({ref:t,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),s.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),s.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),s.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"}))}));w.propTypes={color:g.a.string,size:g.a.oneOfType([g.a.string,g.a.number])},w.displayName="Info";var k=w,P=a(44),I=a.n(P),N=a(651),E=Object(i.d)(m.a).withConfig({displayName:"Profile__Card",componentId:"qecb9y-0"})(N.b),C=Object(i.d)(b.a).withConfig({displayName:"Profile__Divider",componentId:"qecb9y-1"})(N.b),V=Object(i.d)(j.a).withConfig({displayName:"Profile__TextField",componentId:"qecb9y-2"})(N.b),L=Object(i.d)(f.a).withConfig({displayName:"Profile__Button",componentId:"qecb9y-3"})(N.b);u.a().shape({});function S(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),a=t[0],i=t[1],s=Object(o.useState)([]),c=Object(r.a)(s,2),u=(c[0],c[1],Object(l.c)({defaultValues:{email:a.first_name,first_name:""}})),m=u.register,b=u.handleSubmit,j=u.control,f=(u.errors,u.touched,u.reset,function(e){console.log(e.username),I()({method:"patch",url:"".concat(d.k,"/users/").concat(a.id,"/"),data:{first_name:e.first_name,last_name:e.last_name,username:e.username,email:e.email,title:e.title},headers:{Authorization:"Token ".concat(d.o)}}).then(v).catch((function(e){e.response?(console.log(e.response.data.detail),console.log(e.response.status),console.log(e.response.headers)):console.log("erreur")}))});function v(){I()({method:"get",url:"".concat(d.k,"/users/"),headers:{Authorization:"Token ".concat(d.o)}}).then((function(e){i(e.data[0])}))}return Object(o.useEffect)((function(){v()}),[]),Object(o.useEffect)((function(e){}),[a]),Object(n.jsx)(E,{mb:6,children:Object(n.jsxs)(p.a,{children:[Object(n.jsxs)(h.a,{variant:"h6",gutterBottom:!0,children:["Fiche collaborateur"," ",Object(n.jsx)(O.a,{title:"Visible par vos coll\xe8gues",children:Object(n.jsx)(k,{size:16})}),Object(n.jsxs)(h.a,{variant:"subtitle1",gutterBottom:!0,children:["Votre fiche vous permet de renseigner des informations disponibles pour votre \xe9quipe ",a.first_name]})]}),Object(n.jsxs)("form",{onSubmit:b(f),children:[Object(n.jsxs)(x.a,{container:!0,spacing:6,children:[Object(n.jsx)(x.a,{item:!0,md:8}),Object(n.jsx)(x.a,{item:!0,md:6,children:Object(n.jsx)(l.a,{as:Object(n.jsx)(V,{id:"first_name",InputLabelProps:{shrink:!0},label:"Pr\xe9nom",fullWidth:!0,helperText:a.first_name,variant:"outlined",my:2}),ref:m,name:"first_name",control:j})}),Object(n.jsx)(x.a,{item:!0,md:6,children:Object(n.jsx)(l.a,{as:Object(n.jsx)(V,{id:"last_name",InputLabelProps:{shrink:!0},label:"Nom",variant:"outlined",fullWidth:!0,my:2}),name:"last_name",defaultValue:a.last_name,control:j})})]}),Object(n.jsx)(l.a,{as:Object(n.jsx)(V,{id:"username",InputLabelProps:{shrink:!0},label:"Identifiant",defaultValue:a.username,fullWidth:!0,variant:"outlined",my:2}),name:"username",label:"Identifiant",control:j,defaultValue:a.username}),Object(n.jsx)(l.a,{as:Object(n.jsx)(V,{id:"email",label:"Email",type:"email",variant:"outlined",InputLabelProps:{shrink:!0},fullWidth:!0,my:2}),name:"email",control:j,defaultValue:a.email}),Object(n.jsx)(l.a,{as:Object(n.jsx)(V,{id:"title",label:"Fonction",variant:"outlined",InputLabelProps:{shrink:!0},placeholder:"Ex: r\xe9ceptionniste, directeur, gouvernante",defaultValue:a.title,fullWidth:!0,my:2}),name:"title",control:j,defaultValue:a.title}),Object(n.jsx)(L,{onClick:b(f),variant:"contained",color:"primary",mt:3,children:"Sauvegarder les changements"})]})]})})}t.default=function(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(c.b,{title:"Profil"}),Object(n.jsx)(h.a,{variant:"h3",gutterBottom:!0,display:"inline",children:"Profil"}),Object(n.jsx)(C,{my:6}),Object(n.jsx)(x.a,{container:!0,spacing:6,children:Object(n.jsx)(x.a,{item:!0,xs:12,children:Object(n.jsx)(S,{})})})]})}},666:function(e,t,a){"use strict";var n=a(1),r=a(5),i=a(0),o=(a(3),a(6)),s=a(213),l=a(8),c=i.forwardRef((function(e,t){var a=e.classes,l=e.className,c=e.raised,u=void 0!==c&&c,d=Object(r.a)(e,["classes","className","raised"]);return i.createElement(s.a,Object(n.a)({className:Object(o.a)(a.root,l),elevation:u?8:1,ref:t},d))}));t.a=Object(l.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(c)},674:function(e,t,a){"use strict";var n=a(1),r=a(5),i=a(0),o=(a(3),a(6)),s=a(8),l=i.forwardRef((function(e,t){var a=e.classes,s=e.className,l=e.component,c=void 0===l?"div":l,u=Object(r.a)(e,["classes","className","component"]);return i.createElement(c,Object(n.a)({className:Object(o.a)(a.root,s),ref:t},u))}));t.a=Object(s.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(l)}}]);
//# sourceMappingURL=21.8e1eb0ce.chunk.js.map